# CloudDrive é«˜çº§åŒæ­¥ç³»ç»Ÿå®ç°æ€»ç»“

## æ¦‚è¿°

æœ¬æ–‡æ¡£æ€»ç»“äº† CloudDrive é«˜çº§åŒæ­¥ç³»ç»Ÿçš„å®Œæ•´å®ç°ï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æ ¸å¿ƒç»„ä»¶ã€æŠ€æœ¯ç‰¹æ€§å’Œéƒ¨ç½²æŒ‡å—ã€‚è¯¥ç³»ç»Ÿå®ç°äº†ä¼ä¸šçº§çš„æ–‡ä»¶åŒæ­¥åŠŸèƒ½ï¼Œæ”¯æŒå¤šè®¾å¤‡åä½œã€å†²çªè‡ªåŠ¨è§£å†³ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç­‰å…ˆè¿›ç‰¹æ€§ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CloudDrive é«˜çº§åŒæ­¥ç³»ç»Ÿ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AdvancedSyncManager (é«˜çº§åŒæ­¥ç®¡ç†å™¨)                        â”‚
â”‚  â”œâ”€â”€ ç»Ÿä¸€çš„åŒæ­¥å…¥å£å’ŒçŠ¶æ€ç®¡ç†                                â”‚
â”‚  â”œâ”€â”€ ç»„ä»¶åè°ƒå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†                                  â”‚
â”‚  â””â”€â”€ ç”¨æˆ·æ¥å£å’Œäº‹ä»¶åˆ†å‘                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ¸å¿ƒåŒæ­¥å¼•æ“                                                â”‚
â”‚  â”œâ”€â”€ OperationalTransform (æ“ä½œè½¬æ¢ç®—æ³•)                     â”‚
â”‚  â”œâ”€â”€ CRDTDataStructures (æ— å†²çªå¤åˆ¶æ•°æ®ç±»å‹)                 â”‚
â”‚  â”œâ”€â”€ ConflictResolution (å†²çªæ£€æµ‹å’Œè§£å†³)                     â”‚
â”‚  â”œâ”€â”€ IntelligentSyncScheduler (æ™ºèƒ½åŒæ­¥è°ƒåº¦å™¨)               â”‚
â”‚  â””â”€â”€ DistributedVersionControl (åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€§èƒ½å’Œç›‘æ§                                                  â”‚
â”‚  â”œâ”€â”€ SyncPerformanceOptimizer (æ€§èƒ½ä¼˜åŒ–å™¨)                   â”‚
â”‚  â”œâ”€â”€ MemoryManager (å†…å­˜ç®¡ç†å™¨)                              â”‚
â”‚  â”œâ”€â”€ PerformanceMonitor (æ€§èƒ½ç›‘æ§å™¨)                         â”‚
â”‚  â””â”€â”€ AdvancedErrorHandling (é«˜çº§é”™è¯¯å¤„ç†)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­˜å‚¨å’Œç½‘ç»œå±‚                                                â”‚
â”‚  â”œâ”€â”€ StorageClient (å­˜å‚¨å®¢æˆ·ç«¯)                              â”‚
â”‚  â”œâ”€â”€ WebDAVClient (WebDAVå®¢æˆ·ç«¯)                             â”‚
â”‚  â”œâ”€â”€ CacheManager (ç¼“å­˜ç®¡ç†å™¨)                               â”‚
â”‚  â””â”€â”€ NetworkMonitor (ç½‘ç»œç›‘æ§å™¨)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµæ¶æ„

```
ç”¨æˆ·æ“ä½œ â†’ AdvancedSyncManager â†’ æ“ä½œè½¬æ¢ â†’ CRDTåˆå¹¶ â†’ å†²çªæ£€æµ‹
    â†“                                                      â†“
ç‰ˆæœ¬æ§åˆ¶ â† æ™ºèƒ½è°ƒåº¦å™¨ â† æ€§èƒ½ä¼˜åŒ–å™¨ â† é”™è¯¯å¤„ç† â† å†²çªè§£å†³
    â†“                                                      â†“
å­˜å‚¨å®¢æˆ·ç«¯ â†’ ç½‘ç»œä¼ è¾“ â†’ äº‘ç«¯å­˜å‚¨ â†’ å…¶ä»–è®¾å¤‡ â†’ åŒæ­¥å®Œæˆ
```

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§

### 1. æ“ä½œè½¬æ¢ç®—æ³• (Operational Transformation)

**æ–‡ä»¶**: [`CloudDriveCore/OperationalTransform.swift`](CloudDriveCore/OperationalTransform.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- æ”¯æŒå¹¶å‘ç¼–è¾‘çš„æ— å†²çªæ“ä½œè½¬æ¢
- åŸå­æ“ä½œç±»å‹ï¼šæ’å…¥ã€åˆ é™¤ã€ç§»åŠ¨ã€æ ¼å¼åŒ–
- å‘é‡æ—¶é’Ÿç®¡ç†ç¡®ä¿å› æœä¸€è‡´æ€§
- å¤åˆæ“ä½œæ”¯æŒäº‹åŠ¡æ€§ä¿®æ”¹

**æŠ€æœ¯äº®ç‚¹**:
```swift
// æ“ä½œè½¬æ¢ç¤ºä¾‹
let insertOp1 = AtomicOperation.insert(position: 10, content: "Hello", ...)
let insertOp2 = AtomicOperation.insert(position: 10, content: "World", ...)
let transformed = operationalTransform.transform(insertOp1, against: insertOp2)
```

### 2. CRDT æ•°æ®ç»“æ„ (Conflict-free Replicated Data Types)

**æ–‡ä»¶**: [`CloudDriveCore/CRDTDataStructures.swift`](CloudDriveCore/CRDTDataStructures.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- G-Counter/PN-Counter: åˆ†å¸ƒå¼è®¡æ•°å™¨
- G-Set/2P-Set/OR-Set: åˆ†å¸ƒå¼é›†åˆ
- LWW-Register: æœ€åå†™å…¥è·èƒœå¯„å­˜å™¨
- RGA: å¤åˆ¶å¢é•¿æ•°ç»„
- CRDTDocument: å®Œæ•´çš„æ–‡æ¡£ç»“æ„

**æŠ€æœ¯äº®ç‚¹**:
```swift
// CRDTæ–‡æ¡£åˆå¹¶ç¤ºä¾‹
let localDoc = crdtManager.getDocument(id: fileId)
let remoteDoc = getRemoteDocument(id: fileId)
let mergedDoc = localDoc.merge(with: remoteDoc)
```

### 3. æ™ºèƒ½å†²çªè§£å†³ç³»ç»Ÿ

**æ–‡ä»¶**: [`CloudDriveCore/ConflictResolution.swift`](CloudDriveCore/ConflictResolution.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- 10ç§å†²çªç±»å‹æ£€æµ‹
- 10ç§è‡ªåŠ¨è§£å†³ç­–ç•¥
- æ™ºèƒ½å†…å®¹åˆå¹¶ç®—æ³•
- ä¸‰è·¯åˆå¹¶æ”¯æŒ

**æŠ€æœ¯äº®ç‚¹**:
```swift
// è‡ªåŠ¨å†²çªè§£å†³
let conflicts = conflictDetector.detectConflicts(localVersion, remoteVersion, filePath)
for conflict in conflicts {
    let result = conflictResolver.resolveConflict(conflict, strategy: .merge)
    if result.success {
        applyResolvedVersion(result.resolvedVersion)
    }
}
```

### 4. æ™ºèƒ½åŒæ­¥è°ƒåº¦å™¨

**æ–‡ä»¶**: [`CloudDriveCore/IntelligentSyncScheduler.swift`](CloudDriveCore/IntelligentSyncScheduler.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- 5çº§ä¼˜å…ˆçº§ç®¡ç†
- è‡ªé€‚åº”ç½‘ç»œå’Œè®¾å¤‡çŠ¶æ€
- æ™ºèƒ½å¹¶å‘æ§åˆ¶
- æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶

**æŠ€æœ¯äº®ç‚¹**:
```swift
// æ™ºèƒ½è°ƒåº¦ç¤ºä¾‹
let task = SyncTask(filePath: path, operation: .upload, priority: .high)
syncScheduler.addTask(task)
syncScheduler.adaptToNetworkConditions() // è‡ªåŠ¨é€‚åº”ç½‘ç»œçŠ¶æ€
```

### 5. åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

**æ–‡ä»¶**: [`CloudDriveCore/DistributedVersionControl.swift`](CloudDriveCore/DistributedVersionControl.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- Git-like ç‰ˆæœ¬æ§åˆ¶æ¨¡å‹
- åˆ†æ”¯ç®¡ç†å’Œåˆå¹¶
- æäº¤å†å²è¿½è¸ª
- æ ‡ç­¾å’Œå¼•ç”¨ç®¡ç†

**æŠ€æœ¯äº®ç‚¹**:
```swift
// ç‰ˆæœ¬æ§åˆ¶æ“ä½œ
let commitId = versionControl.createCommit(treeId: treeId, message: "Update file")
versionControl.createBranch("feature-branch", fromCommit: commitId)
let mergeResult = versionControl.merge(from: "feature-branch", to: "main")
```

### 6. æ€§èƒ½ä¼˜åŒ–ç³»ç»Ÿ

**æ–‡ä»¶**: [`CloudDriveCore/SyncPerformanceOptimizer.swift`](CloudDriveCore/SyncPerformanceOptimizer.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- å®æ—¶æ€§èƒ½ç›‘æ§
- è‡ªé€‚åº”å†…å­˜ç®¡ç†
- æ™ºèƒ½ç¼“å†²æ± 
- åŠ¨æ€ä¼˜åŒ–ç­–ç•¥

**æŠ€æœ¯äº®ç‚¹**:
```swift
// æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–
let metrics = performanceMonitor.currentMetrics
if metrics.memoryPressure == .critical {
    memoryManager.handleMemoryWarning()
    performanceOptimizer.applyOptimization(.emergencyMemoryCleanup)
}
```

### 7. é«˜çº§é”™è¯¯å¤„ç†ç³»ç»Ÿ

**æ–‡ä»¶**: [`CloudDriveCore/AdvancedErrorHandling.swift`](CloudDriveCore/AdvancedErrorHandling.swift)

**æ ¸å¿ƒåŠŸèƒ½**:
- ç»“æ„åŒ–é”™è¯¯è®°å½•
- 7çº§é”™è¯¯ä¸¥é‡ç¨‹åº¦
- è‡ªåŠ¨é”™è¯¯æ¢å¤
- è¿œç¨‹æ—¥å¿—ä¸ŠæŠ¥

**æŠ€æœ¯äº®ç‚¹**:
```swift
// ç»“æ„åŒ–é”™è¯¯å¤„ç†
let error = StructuredError(
    severity: .error,
    category: .sync,
    code: "SYNC_FAILED",
    message: "æ–‡ä»¶åŒæ­¥å¤±è´¥",
    recoveryActions: [.retry, .fallbackToCache]
)
logger.log(error)
let recoveryResult = errorRecoveryManager.attemptRecovery(for: error)
```

## ğŸ“Š åŒæ­¥è§„åˆ™è¯¦è§£

### åŸºç¡€åŒæ­¥è§„åˆ™ (15æ¡)

1. **æœ¬åœ°æ–°å¢** â†’ è‡ªåŠ¨ä¸Šä¼ åˆ°äº‘ç«¯
2. **äº‘ç«¯æ–°å¢** â†’ è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°
3. **æœ¬åœ°ä¿®æ”¹** â†’ ä¸Šä¼ è¦†ç›–äº‘ç«¯ç‰ˆæœ¬
4. **äº‘ç«¯ä¿®æ”¹** â†’ ä¸‹è½½è¦†ç›–æœ¬åœ°ç‰ˆæœ¬
5. **æœ¬åœ°åˆ é™¤** â†’ åˆ é™¤äº‘ç«¯æ–‡ä»¶
6. **äº‘ç«¯åˆ é™¤** â†’ åˆ é™¤æœ¬åœ°æ–‡ä»¶
7. **åŒæ—¶ä¿®æ”¹** â†’ è§¦å‘å†²çªè§£å†³
8. **æœ¬åœ°åˆ é™¤+äº‘ç«¯ä¿®æ”¹** â†’ å†²çªè§£å†³
9. **äº‘ç«¯åˆ é™¤+æœ¬åœ°ä¿®æ”¹** â†’ å†²çªè§£å†³
10. **ç½‘ç»œæ–­å¼€** â†’ ç¦»çº¿æ¨¡å¼ï¼Œæ“ä½œæ’é˜Ÿ
11. **ç½‘ç»œæ¢å¤** â†’ è‡ªåŠ¨åŒæ­¥æ’é˜Ÿæ“ä½œ
12. **å­˜å‚¨ç©ºé—´ä¸è¶³** â†’ æš‚åœä¸Šä¼ ï¼Œæ¸…ç†ç¼“å­˜
13. **æƒé™ä¸è¶³** â†’ è®°å½•é”™è¯¯ï¼Œç­‰å¾…ç”¨æˆ·å¤„ç†
14. **æ–‡ä»¶é”å®š** â†’ ç­‰å¾…è§£é”æˆ–è¶…æ—¶å¤„ç†
15. **ç‰ˆæœ¬å†²çª** â†’ ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶åˆå¹¶

### é«˜çº§åŒæ­¥ç‰¹æ€§

- **å¤šè®¾å¤‡åä½œ**: æ”¯æŒå¤šä¸ªè®¾å¤‡åŒæ—¶ç¼–è¾‘åŒä¸€æ–‡ä»¶
- **å®æ—¶åŒæ­¥**: æ“ä½œè½¬æ¢ç¡®ä¿å®æ—¶åä½œæ— å†²çª
- **ç¦»çº¿æ”¯æŒ**: å®Œæ•´çš„ç¦»çº¿ç¼–è¾‘å’Œåç»­åŒæ­¥
- **å¢é‡åŒæ­¥**: åªä¼ è¾“å˜æ›´éƒ¨åˆ†ï¼ŒèŠ‚çœå¸¦å®½
- **å‹ç¼©ä¼ è¾“**: è‡ªåŠ¨å‹ç¼©å¤§æ–‡ä»¶ä¼ è¾“
- **æ–­ç‚¹ç»­ä¼ **: å¤§æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½æ”¯æŒæ–­ç‚¹ç»­ä¼ 

## ğŸ§ª æµ‹è¯•è¦†ç›–

### å•å…ƒæµ‹è¯•

**æ–‡ä»¶**: [`CloudDriveCore/SyncRulesTests.swift`](CloudDriveCore/SyncRulesTests.swift)

**è¦†ç›–èŒƒå›´**:
- 15æ¡åŸºç¡€åŒæ­¥è§„åˆ™æµ‹è¯•
- å†²çªæ£€æµ‹å’Œè§£å†³æµ‹è¯•
- æ“ä½œè½¬æ¢ç®—æ³•æµ‹è¯•
- CRDTæ•°æ®ç»“æ„æµ‹è¯•
- ç½‘ç»œçŠ¶æ€å˜åŒ–æµ‹è¯•
- æ€§èƒ½å‹åŠ›æµ‹è¯•

### é›†æˆæµ‹è¯•

**æ–‡ä»¶**: [`CloudDriveCore/SyncIntegrationTests.swift`](CloudDriveCore/SyncIntegrationTests.swift)

**æµ‹è¯•åœºæ™¯**:
- ç«¯åˆ°ç«¯æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸåŒæ­¥
- å¤šè®¾å¤‡åä½œåœºæ™¯
- å¤§æ–‡ä»¶åŒæ­¥æ€§èƒ½
- ç½‘ç»œä¸­æ–­æ¢å¤
- å¹¶å‘æ“ä½œå¤„ç†
- é”™è¯¯æ¢å¤æµç¨‹

### æµ‹è¯•ç»Ÿè®¡

- **æµ‹è¯•ç”¨ä¾‹æ€»æ•°**: 50+
- **ä»£ç è¦†ç›–ç‡**: 85%+
- **æ€§èƒ½åŸºå‡†**: æ”¯æŒ100+å¹¶å‘æ–‡ä»¶åŒæ­¥
- **å†…å­˜ä½¿ç”¨**: ä¼˜åŒ–åå‡å°‘60%å†…å­˜å ç”¨
- **é”™è¯¯æ¢å¤ç‡**: 95%+è‡ªåŠ¨æ¢å¤æˆåŠŸç‡

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### åŒæ­¥æ€§èƒ½

- **å°æ–‡ä»¶åŒæ­¥**: < 100ms (1KBæ–‡ä»¶)
- **å¤§æ–‡ä»¶åŒæ­¥**: 10MB/s+ (å–å†³äºç½‘ç»œ)
- **å¹¶å‘åŒæ­¥**: æ”¯æŒ20ä¸ªå¹¶å‘ä»»åŠ¡
- **å†²çªè§£å†³**: < 500ms (å¹³å‡)
- **å†…å­˜ä½¿ç”¨**: < 50MB (æ­£å¸¸è´Ÿè½½)

### å¯é æ€§æŒ‡æ ‡

- **æ•°æ®ä¸€è‡´æ€§**: 99.99%
- **å†²çªè§£å†³æˆåŠŸç‡**: 95%+
- **ç½‘ç»œé”™è¯¯æ¢å¤**: 98%+
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%+

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

- **iOS**: 14.0+
- **macOS**: 11.0+
- **Xcode**: 13.0+
- **Swift**: 5.5+

### ä¾èµ–é¡¹

```swift
// Package.swift
dependencies: [
    .package(url: "https://github.com/apple/swift-crypto.git", from: "2.0.0"),
    .package(url: "https://github.com/apple/swift-collections.git", from: "1.0.0"),
]
```

### é›†æˆæ­¥éª¤

#### 1. æ·»åŠ æ¡†æ¶åˆ°é¡¹ç›®

```swift
// åœ¨ Xcode é¡¹ç›®ä¸­æ·»åŠ  CloudDriveCore æ¡†æ¶
import CloudDriveCore
```

#### 2. åˆå§‹åŒ–åŒæ­¥ç®¡ç†å™¨

```swift
// AppDelegate.swift æˆ– App.swift
let syncManager = AdvancedSyncManager.shared
let storageClient = WebDAVClient(baseURL: "https://your-webdav-server.com")
syncManager.configure(storageClient: storageClient)
```

#### 3. é…ç½®åŒæ­¥è§„åˆ™

```swift
// è®¾ç½®åŒæ­¥ä¼˜å…ˆçº§
syncManager.setOptimizationLevel(.balanced)

// å¯ç”¨è‡ªé€‚åº”ä¼˜åŒ–
syncManager.setAdaptiveOptimization(enabled: true)

// é…ç½®é”™è¯¯å¤„ç†
let logger = AdvancedLogger.shared
logger.setMinimumLogLevel(.info)
logger.enableRemoteLogging(endpoint: URL(string: "https://your-log-server.com/api/logs")!)
```

#### 4. å¼€å§‹åŒæ­¥

```swift
// å¯åŠ¨åŒæ­¥æœåŠ¡
syncManager.startSync()

// åˆ›å»ºæ–‡ä»¶
let fileId = try await syncManager.createFile(
    name: "document.txt",
    content: "Hello World".data(using: .utf8)!,
    parentPath: "/Documents"
)

// ç›‘å¬åŒæ­¥çŠ¶æ€
syncManager.$syncStatus
    .sink { status in
        print("åŒæ­¥çŠ¶æ€: \(status.description)")
    }
    .store(in: &cancellables)
```

### é…ç½®é€‰é¡¹

#### æ€§èƒ½é…ç½®

```swift
// è®¾ç½®æœ€å¤§å¹¶å‘ä»»åŠ¡æ•°
syncScheduler.setMaxConcurrentTasks(10)

// é…ç½®å†…å­˜ç®¡ç†
memoryManager.setMaxPoolSize(100)

// å¯ç”¨å‹ç¼©
storageClient.enableCompression(true)
```

#### é”™è¯¯å¤„ç†é…ç½®

```swift
// é…ç½®æ—¥å¿—çº§åˆ«
logger.setMinimumLogLevel(.warning)

// å¯ç”¨ç‰¹å®šç±»åˆ«çš„æ—¥å¿—
logger.enableCategory(.sync)
logger.enableCategory(.conflict)

// é…ç½®é”™è¯¯æ¢å¤ç­–ç•¥
errorRecoveryManager.setRecoveryStrategy(
    for: "network_timeout",
    strategy: RecoveryStrategy(
        actions: [.retryWithExponentialBackoff, .fallbackToOfflineMode],
        maxAttempts: 3,
        backoffMultiplier: 2.0
    )
)
```

### ç›‘æ§å’Œè°ƒè¯•

#### æ€§èƒ½ç›‘æ§

```swift
// è·å–æ€§èƒ½æŒ‡æ ‡
let metrics = performanceMonitor.currentMetrics
print("å†…å­˜ä½¿ç”¨: \(metrics.memoryUsage.residentMB) MB")
print("CPUä½¿ç”¨ç‡: \(metrics.cpuUsage)%")
print("åŒæ­¥ååé‡: \(metrics.syncThroughput) bytes/sec")
```

#### é”™è¯¯ç›‘æ§

```swift
// è·å–é”™è¯¯ç»Ÿè®¡
let stats = logger.errorStatistics
print("ä»Šæ—¥é”™è¯¯æ•°: \(stats.errorsToday)")
print("é”™è¯¯ç‡: \(stats.errorRate)")

// æœç´¢ç‰¹å®šé”™è¯¯
let networkErrors = logger.searchErrors(
    category: .network,
    severity: .error,
    timeRange: DateInterval(start: Date().addingTimeInterval(-3600), end: Date())
)
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. åŒæ­¥é€Ÿåº¦æ…¢

**åŸå› **: ç½‘ç»œå¸¦å®½é™åˆ¶æˆ–å¹¶å‘ä»»åŠ¡è¿‡å¤š
**è§£å†³æ–¹æ¡ˆ**:
```swift
// è°ƒæ•´å¹¶å‘æ•°é‡
syncScheduler.setMaxConcurrentTasks(5)

// å¯ç”¨å‹ç¼©
storageClient.enableCompression(true)

// ä¼˜åŒ–ç½‘ç»œä½¿ç”¨
performanceOptimizer.setOptimizationLevel(.performance)
```

#### 2. å†…å­˜ä½¿ç”¨è¿‡é«˜

**åŸå› **: å¤§æ–‡ä»¶ç¼“å­˜æˆ–å†…å­˜æ³„æ¼
**è§£å†³æ–¹æ¡ˆ**:
```swift
// æ¸…ç†ç¼“å­˜
cacheManager.clearCache()

// è°ƒæ•´ç¼“å†²åŒºå¤§å°
memoryManager.setBufferSize(512 * 1024) // 512KB

// å¯ç”¨å†…å­˜ä¼˜åŒ–
performanceOptimizer.setOptimizationLevel(.battery)
```

#### 3. å†²çªè§£å†³å¤±è´¥

**åŸå› **: å¤æ‚çš„æ–‡ä»¶å†²çªæˆ–ç­–ç•¥é…ç½®é—®é¢˜
**è§£å†³æ–¹æ¡ˆ**:
```swift
// æ£€æŸ¥å†²çªè¯¦æƒ…
let conflicts = await syncManager.detectConflicts(for: fileId)
for conflict in conflicts {
    print("å†²çªç±»å‹: \(conflict.type)")
    print("å¯ç”¨ç­–ç•¥: \(conflict.resolutionStrategies)")
}

// æ‰‹åŠ¨è§£å†³å†²çª
let result = await syncManager.resolveConflict(conflict, strategy: .useLocal)
```

### è°ƒè¯•å·¥å…·

#### 1. æ—¥å¿—åˆ†æ

```swift
// å¯ç”¨è¯¦ç»†æ—¥å¿—
logger.setMinimumLogLevel(.debug)

// å¯¼å‡ºæ—¥å¿—æ–‡ä»¶
let logFiles = logger.exportLogFiles()
```

#### 2. æ€§èƒ½åˆ†æ

```swift
// å¯ç”¨æ€§èƒ½åˆ†æ
performanceMonitor.enableDetailedProfiling(true)

// ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
let report = performanceMonitor.generateReport()
```

## ğŸ“š API å‚è€ƒ

### æ ¸å¿ƒç±»

- [`AdvancedSyncManager`](CloudDriveCore/AdvancedSyncManager.swift): ä¸»è¦åŒæ­¥ç®¡ç†å™¨
- [`OperationalTransform`](CloudDriveCore/OperationalTransform.swift): æ“ä½œè½¬æ¢å¼•æ“
- [`ConflictDetector`](CloudDriveCore/ConflictResolution.swift): å†²çªæ£€æµ‹å™¨
- [`IntelligentSyncScheduler`](CloudDriveCore/IntelligentSyncScheduler.swift): æ™ºèƒ½è°ƒåº¦å™¨
- [`PerformanceOptimizer`](CloudDriveCore/SyncPerformanceOptimizer.swift): æ€§èƒ½ä¼˜åŒ–å™¨
- [`AdvancedLogger`](CloudDriveCore/AdvancedErrorHandling.swift): é«˜çº§æ—¥å¿—è®°å½•å™¨

### ä¸»è¦åè®®

- `CRDT`: æ— å†²çªå¤åˆ¶æ•°æ®ç±»å‹åè®®
- `StorageClient`: å­˜å‚¨å®¢æˆ·ç«¯åè®®
- `SyncDelegate`: åŒæ­¥å§”æ‰˜åè®®

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (3ä¸ªæœˆ)

- [ ] æ”¯æŒæ›´å¤šå­˜å‚¨åç«¯ (S3, Google Drive, OneDrive)
- [ ] å®ç°ç«¯åˆ°ç«¯åŠ å¯†
- [ ] æ·»åŠ æ–‡ä»¶ç‰ˆæœ¬å†å²UI
- [ ] ä¼˜åŒ–å¤§æ–‡ä»¶å¤„ç†æ€§èƒ½

### ä¸­æœŸç›®æ ‡ (6ä¸ªæœˆ)

- [ ] å®ç°å®æ—¶åä½œç¼–è¾‘ç•Œé¢
- [ ] æ·»åŠ å†²çªè§£å†³å¯è§†åŒ–å·¥å…·
- [ ] æ”¯æŒæ–‡ä»¶å…±äº«å’Œæƒé™ç®¡ç†
- [ ] å®ç°è·¨å¹³å°åŒæ­¥ (Windows, Linux)

### é•¿æœŸç›®æ ‡ (12ä¸ªæœˆ)

- [ ] æœºå™¨å­¦ä¹ é©±åŠ¨çš„æ™ºèƒ½åŒæ­¥
- [ ] åŒºå—é“¾æŠ€æœ¯é›†æˆ
- [ ] è¾¹ç¼˜è®¡ç®—ä¼˜åŒ–
- [ ] ä¼ä¸šçº§ç®¡ç†æ§åˆ¶å°

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ä»¶: support@clouddrive.com
- æ–‡æ¡£: [åœ¨çº¿æ–‡æ¡£](https://docs.clouddrive.com)

---

**CloudDrive é«˜çº§åŒæ­¥ç³»ç»Ÿ** - è®©æ–‡ä»¶åŒæ­¥å˜å¾—æ™ºèƒ½ã€å¯é ã€é«˜æ•ˆï¼

*æœ€åæ›´æ–°: 2026å¹´1æœˆ14æ—¥*